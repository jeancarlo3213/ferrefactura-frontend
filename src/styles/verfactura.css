/* ===========================
   VER FACTURA – PANTALLA
   =========================== */

:root{
  --bg:#0b1220;
  --surface:#0f172a;
  --surface-2:#111827;
  --text:#e5e7eb;
  --muted:#9ca3af;
  --brand:#7c3aed;
  --brand-2:#3b82f6;
  --ok:#16a34a;
  --border:rgba(255,255,255,.08);
  --shadow:0 10px 30px rgba(0,0,0,.35);
}

*{ box-sizing:border-box }

.vf-container{
  min-height:100vh;
  background:
    radial-gradient(1400px 700px at -10% -20%, rgba(124,58,237,.12), transparent 60%),
    radial-gradient(1400px 700px at 110% 120%, rgba(59,130,246,.12), transparent 60%),
    var(--bg);
  color:var(--text);
  display:flex;
  align-items:flex-start;
  justify-content:center;
  padding:24px 12px 120px;
}

.vf-loader{
  min-height:60vh; display:flex; align-items:center; justify-content:center; padding:24px;
}

.vf-card{
  width:min(860px,96%);
  background:color-mix(in oklab, var(--surface) 86%, black);
  border:1px solid var(--border);
  border-radius:18px;
  box-shadow:var(--shadow);
  padding:18px;
}

.vf-header{ text-align:center; margin-bottom:12px; }
.vf-logo{
  width:92px;height:92px;border-radius:9999px;
  object-fit:cover;border:4px solid var(--brand);
  box-shadow:0 0 24px color-mix(in oklab, var(--brand) 55%, transparent);
  margin:0 auto 6px;
}
.vf-title{ margin:0; font-weight:900; font-size:clamp(22px,4.4vw,28px); letter-spacing:.3px; }
.vf-sub{ margin:2px 0; color:var(--muted); font-weight:600; }

/* Meta (pantalla) */
.vf-meta{
  display:grid; gap:8px; grid-template-columns:1fr 1fr;
  background:color-mix(in oklab, var(--surface) 80%, black);
  border:1px solid var(--border);
  border-radius:12px; padding:12px; margin:12px 0 10px;
}
.vf-meta span strong{ color:var(--text) }
@media (max-width:640px){ .vf-meta{ grid-template-columns:1fr } }

/* Tabla (pantalla) */
.vf-table-wrap{ max-height:480px; overflow:auto; border-radius:12px; }
.vf-table{
  width:100%;
  border-collapse:collapse;
  background:color-mix(in oklab, var(--surface) 80%, black);
  border:1px solid var(--border);
  table-layout:fixed;
  font-variant-numeric:tabular-nums lining-nums;
  font-feature-settings:"tnum" 1,"lnum" 1;
}
.vf-table thead th{
  position:sticky; top:0; z-index:1;
  background:color-mix(in oklab, var(--surface) 85%, black);
  color:var(--text); font-weight:900; padding:12px 10px;
  border:1px solid var(--border);
  text-align:center;
}
.vf-table td{
  padding:12px 10px;
  border:1px solid rgba(255,255,255,.08);
  vertical-align:middle;
}
.vf-row:nth-child(even){ background:color-mix(in oklab, var(--surface) 78%, black 6%) }

.vf-num{ text-align:right }
.vf-center{ text-align:center }

.col-cant{ width:12%; text-align:center }
.col-desc{ width:56% }
.col-unit{ width:16%; text-align:right }
.col-subt{ width:16%; text-align:right }

/* Totales (pantalla) */
.vf-summary{ margin-top:14px; display:grid; gap:6px; justify-items:end }
.vf-summary p{ margin:0; font-weight:700 }
.vf-total{
  margin-top:2px; font-size:1.25rem; font-weight:900;
  background:linear-gradient(90deg, rgba(124,58,237,.25), rgba(59,130,246,.25));
  padding:8px 12px; border-radius:12px;
}

.vf-verse{ margin-top:14px; text-align:center; font-style:italic; color:var(--text); font-weight:700 }
.vf-actions{ display:flex; gap:10px; justify-content:center; margin-top:18px }
.vf-btn{
  padding:12px 18px; border-radius:12px; font-weight:800; border:1px solid var(--border);
  display:inline-flex; align-items:center; gap:8px; transition:transform .08s ease,filter .15s ease;
}
.vf-btn:active{ transform:scale(.98) }
.vf-btn-dark{ background:rgba(255,255,255,.06); color:var(--text) }
.vf-btn-green{ background:var(--ok); color:#fff; border-color:rgba(22,163,74,.35) }
.no-print{}

/* ===========================
   IMPRESIÓN TÉRMICA – 78 mm
   =========================== */
@media print{
  @page{ size:78mm auto; margin:0 }

  body *{ visibility:hidden !important }
  .ticket-container, .ticket-container *{ visibility:visible !important }

  .ticket-container{
    position:absolute; left:0; top:0;
    padding:5mm 5mm 4mm 5mm;
    width:calc(78mm - 10mm);
    background:#fff !important; color:#000 !important; border:none !important; margin:0 !important;
    box-shadow:none !important; border-radius:0 !important;
    font-family:"Courier New", Courier, ui-monospace, monospace;
    font-size:12px; line-height:1.28; letter-spacing:0;
    -webkit-print-color-adjust:exact; print-color-adjust:exact;
  }

  .vf-card{ background:#fff !important; border:none !important; padding:0 !important; box-shadow:none !important; border-radius:0 !important; }
  .vf-header{ margin:0 0 2mm; text-align:center }
  .vf-logo{ width:22mm; height:22mm; border:0 !important; box-shadow:none !important; margin:0 auto 1mm; filter:grayscale(1) contrast(130%); }
  .vf-title{ font-size:13px; font-weight:900; margin:0 }
  .vf-sub{ margin:0; font-weight:600 }

  .vf-meta{
    grid-template-columns:1fr; gap:1mm; background:#fff !important; border:none !important;
    padding:0 !important; margin:2mm 0 2mm !important; font-size:12px; font-weight:600; white-space:nowrap;
    color:#000 !important; border-radius:0 !important; box-shadow:none !important;
  }

  .vf-table-wrap{ max-height:none !important; overflow:visible !important; border-radius:0 !important; }
  .vf-table{
    width:100%;
    border-collapse:collapse;
    background:#fff !important; table-layout:auto;
  }
  .vf-table th, .vf-table td{
    border:0.6pt solid #000;      /* ← líneas verticales + horizontales */
    padding:1.1mm 1mm;
    color:#000 !important;
    font-size:12px;
    background:#fff !important;
  }
  .vf-table thead th{
    font-weight:900; text-align:center; white-space:nowrap;
  }

  .col-cant{ width:11% !important; text-align:center !important }
  .col-desc{ width:57% !important; padding-left:2mm !important; white-space:normal !important; word-break:break-word !important; }
  .col-unit{ width:16% !important; text-align:right !important }
  .col-subt{ width:16% !important; text-align:right !important }
  .vf-num{ text-align:right !important }

  .vf-summary{
    margin-top:2mm; gap:1mm; font-weight:700; justify-items:end;
    background:#fff !important; box-shadow:none !important; border-radius:0 !important;
  }
  .vf-summary p{
    font-size:12px; white-space:nowrap; color:#000 !important; margin:0;
  }
  .vf-total{
    font-size:14px; font-weight:900; text-align:right;
    border-top:1pt solid #000; border-bottom:1pt solid #000;
    margin-top:2mm; padding:1mm 0; color:#000 !important;
    background:#fff !important; border-radius:0 !important; box-shadow:none !important;
  }

  .vf-verse{
    margin-top:3mm; text-align:center; font-style:italic;
    color:#000 !important; font-weight:700;
  }

  .vf-actions, .no-print{ display:none !important }
}
