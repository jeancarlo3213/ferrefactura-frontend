@tailwind base;
@tailwind components;
@tailwind utilities;

/* =============================== */
/*   PANTALLA (UI/UX mejorado)     */
/* =============================== */
:root{
  --bg: #0b1324;
  --surface: #0f172a;
  --surface-2: #111827;
  --text: #e5e7eb;
  --muted: #9ca3af;
  --brand: #22c55e;
  --brand-2: #16a34a;
  --shadow: 0 10px 30px rgba(0,0,0,.35);
}

.vf-loader{
  min-height:100vh;
  display:flex;align-items:center;justify-content:center;
  background:var(--bg);
}

.vf-container{
  min-height:100vh;
  color:var(--text);
  background:
    radial-gradient(950px 460px at 0% -20%, rgba(34,197,94,.08), transparent 60%),
    radial-gradient(950px 460px at 100% 120%, rgba(59,130,246,.07), transparent 60%),
    var(--bg);
  display:flex;align-items:flex-start;justify-content:center;
  padding:28px 14px;
}

/* tarjeta de pantalla */
.vf-card-screen{
  width:min(980px, 96%);
  background:var(--surface);
  border:1px solid rgba(255,255,255,.08);
  border-radius:18px;
  box-shadow:var(--shadow);
  padding:20px;
}

.vf-header{text-align:center;margin-bottom:14px}
.vf-logo{
  width:88px;height:88px;border-radius:9999px;object-fit:cover;
  border:4px solid var(--brand);
  box-shadow:0 0 26px color-mix(in oklab, var(--brand) 60%, transparent);
  margin:0 auto 10px;
}
.vf-title{margin:0;font-weight:900;letter-spacing:.3px;font-size:clamp(22px,4.5vw,28px)}
.vf-sub{margin:2px 0;color:var(--muted)}

.vf-meta{
  display:grid;gap:8px;grid-template-columns:1fr 1fr;
  background:var(--surface-2);
  border:1px solid rgba(255,255,255,.1);
  border-radius:12px;padding:12px;margin:10px 0 14px;
}
.vf-meta span strong{color:#fff}
@media (max-width:640px){ .vf-meta{grid-template-columns:1fr} }

.vf-status{display:inline-flex;gap:8px;margin-bottom:12px}
.vf-status .chip{
  padding:8px 12px;border-radius:10px;cursor:pointer;
  background:rgba(255,255,255,.05);
  border:1px solid rgba(255,255,255,.12);
  user-select:none;transition: all .15s ease;
}
.vf-status .chip.active{background:linear-gradient(135deg, var(--brand), var(--brand-2));color:#fff;font-weight:800;border-color:transparent}

.vf-table-wrap{max-height:420px;overflow:auto;border-radius:12px}
.vf-table{
  width:100%;border-collapse:separate;border-spacing:0;
  background:var(--surface-2);border:1px solid rgba(255,255,255,.08);
  table-layout:fixed;
}
.vf-table thead th{
  background:color-mix(in oklab, var(--surface-2) 75%, black);
  color:#fff;font-weight:800;padding:10px 12px;border-bottom:1px solid rgba(255,255,255,.12)
}
.vf-table thead th.sticky{position:sticky;top:0;z-index:2}
.vf-table td{padding:10px 12px;border-top:1px solid rgba(255,255,255,.06);vertical-align:middle}
.vf-row:nth-child(even){background:color-mix(in oklab, var(--surface-2), black 6%)}
.vf-num{text-align:right;font-variant-numeric:tabular-nums lining-nums;font-feature-settings:"tnum"1,"lnum"1}
.vf-um{text-align:center;text-transform:uppercase;letter-spacing:.5px}
.vf-prod{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}

.vf-summary{margin-top:14px;display:grid;gap:4px;justify-items:end}
.vf-summary p{margin:0}
.vf-total{font-size:1.15rem;font-weight:900}
.vf-verse{margin-top:12px;color:var(--muted);text-align:left}

.vf-actions{display:flex;gap:10px;justify-content:center;margin-top:16px}
.vf-btn{
  padding:12px 16px;border-radius:12px;font-weight:800;border:1px solid rgba(255,255,255,.14);
  display:inline-flex;align-items:center;gap:8px;
  transition:transform .08s ease, filter .15s ease;
}
.vf-btn:active{transform:scale(.98)}
.vf-btn-green{background:#16a34a;color:#fff;border-color:#16a34a}
.vf-btn-dark{background:rgba(255,255,255,.06);color:var(--text)}

/* =============================== */
/*        TICKET (impresión)       */
/* =============================== */
/* oculto en pantalla */
#ticket{ display:none; }

#ticket .tk-box{
  width:80mm;
  margin:0 auto;
  background:#fff; color:#000;
  font-family: ui-monospace, "Cascadia Mono", "SFMono-Regular", "Courier New", monospace;
  font-size:12px; line-height:1.3;
  padding:6px;
}
#ticket .tk-header{ text-align:center; margin-bottom:6px }
#ticket .tk-logo{
  width:54px;height:54px;border-radius:9999px;object-fit:cover;
  border:2px solid #000; filter:grayscale(1) contrast(130%);
}
#ticket .tk-store{ font-weight:900; margin-top:4px }
#ticket .tk-sub{ margin-top:2px }
#ticket .tk-meta{ margin:6px 0 }
#ticket .tk-meta div{ margin:1px 0 }
#ticket .tk-sep{ border-top:1px dashed #000; margin:6px 0 }

#ticket .tk-table{ width:100%; border-collapse:collapse; table-layout:fixed; }
#ticket .tk-table th{ text-align:left; border-bottom:1px solid #000; padding:2px 0; background:#fff; color:#000; }
#ticket .tk-table td{ padding:2px 0; border-bottom:1px dashed #000; vertical-align:top; background:#fff; color:#000; }
#ticket .tk-table td.num{ text-align:right }
#ticket .tk-table td.um{ text-align:center }
#ticket .tk-table td.prod{ white-space:normal; overflow:hidden; word-break:break-word }

#ticket .tk-totals div{ display:flex; justify-content:space-between; margin:2px 0 }
#ticket .tk-total{ font-weight:900; font-size:13px }
#ticket .tk-verse{ text-align:center; margin-top:6px }

/* =============================== */
/*           IMPRESIÓN             */
/* =============================== */
@media print {
  /* Papel 80mm y SIN márgenes */
  @page { size: 80mm auto; margin: 0 }

  /* 1) Ocultar absolutamente todo */
  body * { visibility: hidden !important; }

  /* 2) Mostrar SOLO el ticket y su contenido */
  #ticket, #ticket * { visibility: visible !important; }

  /* 3) Quitar por completo fondos y sombras para evitar “manchones” */
  #ticket, #ticket * {
    background: #fff !important;
    color: #000 !important;
    box-shadow: none !important;
    outline: none !important;
    border-color: #000 !important; /* conservamos líneas */
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  /* 4) Posicionar el ticket arriba-izquierda y al ancho exacto */
  #ticket {
    display:block !important;
    position: fixed;
    left: 0; top: 0;
    width: 80mm !important;
    margin: 0 !important;
    padding: 0 !important;
  }

  /* 5) Aseguramos que la tarjeta de pantalla JAMÁS se imprima */
  .vf-card-screen,
  .navbar, header, footer,
  .theme-switcher, .theme-panel, .theme-widget, [data-theme-widget] {
    display: none !important;
  }
}
